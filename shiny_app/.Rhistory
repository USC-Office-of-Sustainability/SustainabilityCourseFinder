}
}
departments
dim(departments)
departments[1, ]
pie_data <- sustainability_related %>% filter(year %in% years) %>%
filter(department == "Jimmy Iovine and Andre Young Academy")
pie_data
pie_data$department
department = unique(pie_data$department) # theres 179 departments
pie_data$year
names(pie_data)
pie_data$sustainability_classification
names(pie_data)
pie_data$course_title
pie_data$sustainability_classification
tail(pie_data$course_title)
tail(pie_data$course_title, 5)
dim(departments)
sustainability_related = read.csv("usc_courses_full.csv")
years = c("AY21")
pie_data <- sustainability_related %>% filter(year %in% years) %>%
filter(department == "Jimmy Iovine and Andre Young Academy")
department = unique(pie_data$department) # theres 179 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
departments
pie_data
pie_data$course_title
for (i in 1:nrow(departments)){
mini_df = pie_data[pie_data$department == departments$department[i], "sustainability_classification"]
department_classifications = unique(mini_df$sustainability_classification)
print(department_classifications)
# if ("Focused" %in% department_classifications){
#   departments[i, "sustainability"] = "Focused"
#   # now grab the classes
#   classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
#   courses = unique(classes_df$courseID)
#   departments[i, "focused_classes"] = paste(courses, collapse = ", ")
#   next
# }
# else if ("Inclusive" %in% department_classifications){
#   departments[i, "sustainability"] = "Inclusive"
#   next
# }
# else{
#   departments[i, "sustainability"] = "Not Related"
#   next
# }
}
pie_data$department
mini_df = pie_data[pie_data$department == departments$department[i], "sustainability_classification"]
mini_df
department_classifications = unique(mini_df)
department_classiications
department_classifications
pie_data
mini_df
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 179 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:nrow(departments)){
mini_df = pie_data[pie_data$department == departments$department[i], "sustainability_classification"]
department_classifications = unique(mini_df)
print(department_classifications)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
next
}
else if ("Inclusive" %in% department_classifications){
departments[i, "sustainability"] = "Inclusive"
next
}
else{
departments[i, "sustainability"] = "Not Related"
next
}
}
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 179 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
dim(departments)
departments[1,]
departments[2,]
for (i in 1:nrow(departments)){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
department_classifications = unique(mini_df$sustainability_classification)
print(department_classifications)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
next
}
else if ("Inclusive" %in% department_classifications){
departments[i, "sustainability"] = "Inclusive"
next
}
else{
departments[i, "sustainability"] = "Not Related"
next
}
}
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:2){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
department_classifications = unique(mini_df$sustainability_classification)
print(length(department_classifications))
print(dim(mini_df))
print(department_classifications)
# if ("Focused" %in% department_classifications){
#   departments[i, "sustainability"] = "Focused"
#   # now grab the classes
#   classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
#   courses = unique(classes_df$courseID)
#   departments[i, "focused_classes"] = paste(courses, collapse = ", ")
#   next
# }
# else if ("Inclusive" %in% department_classifications){
#   departments[i, "sustainability"] = "Inclusive"
#   next
# }
# else{
#   departments[i, "sustainability"] = "Not Related"
#   next
# }
}
sum(pie_data$sustainability_classification == "")
sum(pie_data$sustainability_classification == NA)
sum(pie_data$sustainability_classification == "NA")
sum(is.na(pie_data))
pie_data$courseiD
pie_data$courseID
pie_data <- sustainability_related %>% filter(year %in% years) %>% filter(department == "Jimmy Iovine and Andre Young Academy")
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
pie_data$courseID
i=1
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
mini_df
mini_df$courseID
mini_df$sustainability_classification
department_classifications = unique(mini_df$sustainability_classification)
department_classifications
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
# classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
# courses = unique(classes_df$courseID)
# departments[i, "focused_classes"] = paste(courses, collapse = ", ")
next
}
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
# classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
# courses = unique(classes_df$courseID)
# departments[i, "focused_classes"] = paste(courses, collapse = ", ")
# next
}
departments[1, ]
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
classes_df
dim(classes_df)
classes_df$course_title
classes_df$courseID
courses = unique(classes_df$courseID)
courses
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
departments
sustainability_related = read.csv("usc_courses_full.csv")
years = c("AY21")
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:nrow(departments)){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
department_classifications = unique(mini_df$sustainability_classification)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
next
}
# else if ("Inclusive" %in% department_classifications){
#   departments[i, "sustainability"] = "Inclusive"
#   next
# }
# else{
#   departments[i, "sustainability"] = "Not Related"
#   next
# }
}
departments
departments[1, ]
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:nrow(departments)){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
department_classifications = unique(mini_df$sustainability_classification)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
}
# else if ("Inclusive" %in% department_classifications){
#   departments[i, "sustainability"] = "Inclusive"
#   next
# }
# else{
#   departments[i, "sustainability"] = "Not Related"
#   next
# }
}
departments
departments[1, ]
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:nrow(departments)){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
department_classifications = unique(mini_df$sustainability_classification)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
}
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
# else if ("Inclusive" %in% department_classifications){
#   departments[i, "sustainability"] = "Inclusive"
#   next
# }
# else{
#   departments[i, "sustainability"] = "Not Related"
#   next
# }
}
departments[1, ]
departments[2, ]
departments[3, ]
sustainability_related = read.csv("usc_courses_full.csv")
years = c("AY21")
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:2){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
department_classifications = unique(mini_df$sustainability_classification)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
}
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
# else if ("Inclusive" %in% department_classifications){
#   departments[i, "sustainability"] = "Inclusive"
#   next
# }
# else{
#   departments[i, "sustainability"] = "Not Related"
#   next
# }
}
departments
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:2){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
department_classifications = unique(mini_df$sustainability_classification)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
}
# else if ("Inclusive" %in% department_classifications){
#   departments[i, "sustainability"] = "Inclusive"
#   next
# }
# else{
#   departments[i, "sustainability"] = "Not Related"
#   next
# }
}
departments[1, ]
i=1
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ]
mini_df$sustainability_classification
pie_data[pie_data$department == departments$department[i], ]
sustainability_related = read.csv("usc_courses_full.csv")
years = c("AY21")
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
department = "Jimmy Iovine and Andre Young Academy"
# grab the course data for this department
mini_df = pie_data[pie_data$department == department, ]
mini_df
mini_df <- mini_df[,colSums(is.na(mini_df))<nrow(mini_df)]
mini_df
df[ , colSums(is.na(mini_df))==0]
mini_df[ , colSums(is.na(mini_df))==0]
mini_df = mini_df[ , colSums(is.na(mini_df))==0]
mini_df
sustainability_related = read.csv("usc_courses_full.csv")
sustainability_related = read.csv("usc_courses_full.csv")
years = c("AY21")
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
department
dp = "Jimmy Iovine and Andre Young Academy"
# grab the course data for this department
mini_df = pie_data[pie_data$department == dp, ]
mini_df
df = mini_df[ , colSums(is.na(mini_df))==0]
df
pie_data
sustainability_related = read.csv("usc_courses_full.csv")
years = c("AY21")
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
dim(pie_data)
dp
pie_data$department
sum(is.na(pie_data$department))
pie_data[pie_data$department == NA, ]
pie_data[is.na(pie_data$department), ]
pie_data[is.na(pie_data$department), "courseID"]
departments
df= pie_data[!is.na(pie_data$department), "courseID"]
df[is.na(df$department), "courseID"]
df
df= pie_data[!is.na(pie_data$department),]
df
df[is.na(df$department),]
pie_data[is.na(pie_data$department), ]
df
pie_data
dim(pie_data)
dim(df)
sum(is.na(pie_data$department))
sum(is.na(df$department))
sustainability_related = read.csv("usc_courses_full.csv")
years = c("AY21")
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:nrow(departments)){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ] # just noticed that some departments are NA
# remove the classes with no department listed
mini_df = pie_data[!is.na(pie_data$department),]
department_classifications = unique(mini_df$sustainability_classification)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
}
else if ("Inclusive" %in% department_classifications){
departments[i, "sustainability"] = "Inclusive"
next
}
else{
departments[i, "sustainability"] = "Not Related"
next
}
}
departments[1, ]
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:nrow(departments)){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ] # just noticed that some departments are NA
# remove the classes with no department listed
mini_df = pie_data[!is.na(mini_df$department),]
department_classifications = unique(mini_df$sustainability_classification)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
}
else if ("Inclusive" %in% department_classifications){
departments[i, "sustainability"] = "Inclusive"
next
}
else{
departments[i, "sustainability"] = "Not Related"
next
}
}
departments[1, ]
pie_data <- sustainability_related %>% filter(year %in% years)
department = unique(pie_data$department) # theres 44 departments
departments = data.frame(department)
departments["sustainability"] = NA
departments["focused_classes"] = NA
for (i in 1:nrow(departments)){
# grab the course data for this department
mini_df = pie_data[pie_data$department == departments$department[i], ] # just noticed that some departments are NA
# remove the classes with no department listed
mini_df = mini_df[!is.na(mini_df$department),]
department_classifications = unique(mini_df$sustainability_classification)
if ("Focused" %in% department_classifications){
departments[i, "sustainability"] = "Focused"
# now grab the classes
classes_df = mini_df[mini_df$sustainability_classification == "Focused", ]
courses = unique(classes_df$courseID)
departments[i, "focused_classes"] = paste(courses, collapse = ", ")
}
else if ("Inclusive" %in% department_classifications){
departments[i, "sustainability"] = "Inclusive"
next
}
else{
departments[i, "sustainability"] = "Not Related"
next
}
}
mini_df
departments[1, ]
runApp('~/Desktop/USC-SDGmap/shiny_app')
runApp('~/Desktop/USC-SDGmap/shiny_app')
runApp('~/Desktop/USC-SDGmap/shiny_app')
# exclude words if followed by "environment"
words = c("business", "Business", "reporting", "immersive", "learning", "Learning", "visualization", "visualisation",
"outpatient", "hospital", "clinical", "dental", "lab", "media", "network",
"digital", "professional", "legal", "news", "focused",
"virtual", "workshop", "health care", "emotionally rich", "corporate",
"market", "structured", # adding new ones
"built", "business", "classroom", "clinical", "commmunication", "consulting",
"dental", "digital", "economic", "education", "educational", "focused",
"future", "hospital", "inclusive", "institutional", "lab", "learning",
"legal", "liveable", "market", "marketing", "media", "network", "news",
"orgnanizational", "outpatient", "peoples", "policy", "politics",
"professional", "regulatory", "reporting", "reporting", "social",
"sonic", "strategic", "structured", "tax", "technology", "urban",
"various", "virtual", "voting", "workshop", "justice")
words
for (word in words){}
for (word in words){print(word)}
getwd()
setwd("/Users/btinsley/Desktop/USC-SDGmap/shiny_app/")
runApp()
shiny::runApp()
